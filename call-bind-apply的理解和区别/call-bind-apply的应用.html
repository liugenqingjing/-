<!--
 * @Description: 
 * @Author: 小何
 * @Date: 2021-10-06 17:06:19
 * @LastEditTime: 2021-10-06 17:33:48
 * @LastEditors:  
-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>call-bind-apply的应用</title>
  </head>
  <body>
    <div>111</div>
    <div>222</div>
    <div>333</div>
  </body>
  <script>
    // 1.应用将伪数组 转换成 数组

    let div = document.getElementsByTagName("div");
    console.log(div);

    let array = Array.prototype.slice.call(div);
    console.log(array);

    //1.1 手写兼容IE8一下的
    function listToArray(likeArray) {
      let ary = [];
      try {
        ary = Array.prototype.slice.call(likeArray);
      } catch (error) {
        for (let i = 0; i < likeArray.length; i++) {
          ary[ary.length] = likeArray[i];
        }
      }
      return ary;
    }
    console.log(listToArray(div));

    //1.2 arguments

    function fn() {
      console.log(arguments);
      console.log(Array.prototype.slice.call(arguments));
    }
    fn(1, 2, 3, 4, 5, 6);

    //1.3 自定义伪数组:

    let obj = {
      0: 1,
      1: "小何",
      2: "小瑶",
      length: 3, //一定要有
    };
    console.log(Array.prototype.slice.call(obj));

    //2.数组的拼接:
    let array1 = [1, 2, 3];
    let array2 = [4, 5, 6];

    console.log(array1.concat(array2));

    //2.1 apply 来实现
    Array.prototype.push.apply(array1, array2);
    console.log(array1);

    //3. 判断数据类型

    let array3 = [1, 2, 3];
    function isArray(array) {
      return Object.prototype.toString.call(array3) === "[object Array]";
    }
    console.log(isArray(array3));
  </script>
</html>
