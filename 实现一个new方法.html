<!--
 * @Description: 
 * @Author: 小何
 * @Date: 2021-10-22 10:55:44
 * @LastEditTime: 2021-10-22 11:14:54
 * @LastEditors:  
-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>实现一个new方法</title>
  </head>
  <body></body>
  <script>
    function Person(name, age) {
      this.name = name;
      this.age = age;
    }

    function myNew() {
      let func = [].shift.call(arguments);
      let obj = Object.create(func.prototype);
      // console.log(func.prototype);
      let res = func.apply(obj, arguments);
      if (typeof res === "object") {
        return res;
      }
      return obj;
    }

    let p = myNew(Person, "xiaohe", 19);
    console.log(p);
  </script>
</html>
